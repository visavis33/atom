(function(a){a(document);var e=a(window),c=[],f=!1;a.atom=function(b,g){return a.atom.impl.init(b,g)};a.atom.close=function(){a.atom.impl.close()};a.atom.defaults={maskClass:"atomMask",modalClass:"atomModal",close:!0,closeHTML:"&#x2716;",closeClass:"atomClose",maskClose:!1,onOpen:null,onShow:null,onClose:null};a.atom.impl={d:{},init:function(b,g){var d=this;c.push(function(){d.o=a.extend({},a.atom.defaults,g);d.create(b);d.open();a.isFunction(d.o.onShow)&&d.o.onShow.apply(d,[d.d])});!f&&0<c.length&&
(c.shift()(),f=!0)},create:function(b){this.d.mask=a("<div></div>").addClass(this.o.maskClass).css("display","none").appendTo("body");this.d.modal=a("<div></div>").addClass(this.o.modalClass).css("display","none").append(this.o.close&&this.o.closeHTML?a("<a></a>").addClass(this.o.closeClass).append(this.o.closeHTML):"").append(b).appendTo("body");this.center()},bindEvents:function(){var b=this;a("."+b.o.closeClass).bind("click.atom",function(a){a.preventDefault();b.close()});b.o.maskClose&&b.d.mask.bind("click.atom",
function(a){a.preventDefault();b.close()});e.bind("resize.atom orientationchange.atom",function(){b.center()})},unbindEvents:function(){a("."+this.o.closeClass).unbind("click.atom");e.unbind(".atom");this.d.mask.unbind("click.atom")},center:function(){var a=e.height()/2-this.d.modal.outerHeight(!0)/2,c=e.width()/2-this.d.modal.outerWidth(!0)/2;this.d.modal.css({left:c,top:a})},open:function(){a.isFunction(this.o.onOpen)&&this.o.onOpen.apply(this,[this.d]);this.d.mask.show();this.d.modal.show();this.bindEvents()},
close:function(){this.unbindEvents();a.isFunction(this.o.onClose)&&this.o.onClose.apply(this,[this.d]);this.d.modal.hide().remove();this.d.mask.hide().remove();this.d={};0<c.length?(c.shift()(),f=!0):f=!1}}})(jQuery);