(function(a){var c=[],e=!1;a.atom=function(b,f){return a.atom.impl.init(b,f)};a.atom.close=function(){a.atom.impl.close()};a.atom.defaults={maskClass:"atomMask",modalClass:"atomModal",close:!0,closeHTML:"&#x2716;",closeClass:"atomClose",maskClose:!1,onOpen:null,onShow:null,onClose:null};a.atom.impl={d:{},init:function(b,f){var d=this;c.push(function(){d.o=a.extend({},a.atom.defaults,f);d.create(b);d.open();a.isFunction(d.o.onShow)&&d.o.onShow.apply(d,[d.d])});!e&&0<c.length&&(c.shift()(),e=!0)},create:function(b){this.d.mask=
a("<div></div>").addClass(this.o.maskClass).css("display","none").appendTo("body");this.d.modal=a("<div></div>").addClass(this.o.modalClass).css("display","none").append(this.o.close&&this.o.closeHTML?a("<a></a>").addClass(this.o.closeClass).append(this.o.closeHTML):"").append(b).appendTo("body");this.center()},bindEvents:function(){var b=this;a("."+b.o.closeClass).bind("click.atom",function(a){a.preventDefault();b.close()});b.o.maskClose&&b.d.mask.bind("click.atom",function(a){a.preventDefault();
b.close()});a(window).bind("resize.atom orientationchange.atom",function(){b.center()})},unbindEvents:function(){a("."+this.o.closeClass).unbind("click.atom");a(window).unbind(".atom");this.d.mask.unbind("click.atom")},center:function(){var b=a(window).height()/2-this.d.modal.outerHeight(!0)/2,c=a(window).width()/2-this.d.modal.outerWidth(!0)/2;this.d.modal.css({left:c,top:b})},open:function(){a.isFunction(this.o.onOpen)&&this.o.onOpen.apply(this,[this.d]);this.d.mask.show();this.d.modal.show();this.bindEvents()},
close:function(){this.unbindEvents();a.isFunction(this.o.onClose)&&this.o.onClose.apply(this,[this.d]);this.d.modal.hide().remove();this.d.mask.hide().remove();this.d={};(e=0<c.length?!0:!1)&&c.shift()()}}})(jQuery);